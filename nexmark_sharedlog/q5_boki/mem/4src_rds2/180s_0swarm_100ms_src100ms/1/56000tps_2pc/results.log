wait for last: true
warmup: 0
config: map[NodeConstraint:"1,2,3,4" NumInstance:4 OutputTopicName:["nexmark_src"] funcName:"source"]
config: map[InputTopicNames:["nexmark_src"] NodeConstraint:"5,6,7,8" NumInstance:4 NumSrcProducer:[1] OutputTopicName:["bids"] funcName:"q5bidkeyedbyauction"]
config: map[InputTopicNames:["bids"] NodeConstraint:"5,6,7,8" NumInstance:4 NumSrcProducer:[4] OutputTopicName:["aucBids"] funcName:"q5aucbids"]
config: map[InputTopicNames:["aucBids"] NodeConstraint:"5,6,7,8" NumInstance:4 NumSrcProducer:[4] OutputTopicName:["q5_out"] funcName:"q5maxbid"]
srcInvokeConfig: {TopicName:nexmark_src AppId:q5 NodeConstraint:1,2,3,4 ScaleEpoch:0 NumOutPartition:4 InstanceID:0 NumSrcInstance:4}
cliNodes: [0xc000026200 0xc000026240 0xc000026280]
inParamsMap: map[q5aucbids:[0xc000000e60 0xc000000f00 0xc000000fa0 0xc000001040] q5bidkeyedbyauction:[0xc000000be0 0xc000000c80 0xc000000d20 0xc000000dc0] q5maxbid:[0xc0000010e0 0xc000001180 0xc000001220 0xc0000012c0]]
encoded json is {"sg":{"aucBids":4,"bids":4,"changelog":4,"nexmark_src":4,"q5_out":4,"q5aucbids":4,"q5bidkeyedbyauction":4,"q5maxbid":4,"source":4},"aid":"q5","fns":["source","q5bidkeyedbyauction","q5aucbids","q5maxbid"],"epoch":1,"serdeFormat":1,"bs":true}, node constraint is 1
configScaleInput: {Config:map[aucBids:4 bids:4 changelog:4 nexmark_src:4 q5_out:4 q5aucbids:4 q5bidkeyedbyauction:4 q5maxbid:4 source:4] AppId:q5 FuncNames:[source q5bidkeyedbyauction q5aucbids q5maxbid] ScaleEpoch:0 SerdeFormat:1 Bootstrap:false}
func source url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/source
func source url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/source
func source url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/source
encoded json is {"topic_name":"nexmark_src","rate_shape":"square","aid":"q5","events_num":40320000,"rate_period":10000000000,"bid_avg_size":100,"first_event_rate":224000,"next_event_rate":224000,"person_avg_size":200,"auction_avg_size":500,"duration":180,"person_proportion":1,"auction_proportion":3,"bid_proportion":46,"bid_hot_ratio_auctions":2,"bid_hot_ratio_bidders":4,"auction_hot_ratio_sellers":4,"flushms":100,"rate_limited":false,"waitEnd":true,"serde_format":1,"numOutPar":4,"parNum":1,"nSrcIns":4}, node constraint is 1,2,3,4
func source url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/source
encoded json is {"topic_name":"nexmark_src","rate_shape":"square","aid":"q5","events_num":40320000,"rate_period":10000000000,"bid_avg_size":100,"first_event_rate":224000,"next_event_rate":224000,"person_avg_size":200,"auction_avg_size":500,"duration":180,"person_proportion":1,"auction_proportion":3,"bid_proportion":46,"bid_hot_ratio_auctions":2,"bid_hot_ratio_bidders":4,"auction_hot_ratio_sellers":4,"flushms":100,"rate_limited":false,"waitEnd":true,"serde_format":1,"numOutPar":4,"parNum":2,"nSrcIns":4}, node constraint is 1,2,3,4
encoded json is {"topic_name":"nexmark_src","rate_shape":"square","aid":"q5","events_num":40320000,"rate_period":10000000000,"bid_avg_size":100,"first_event_rate":224000,"next_event_rate":224000,"person_avg_size":200,"auction_avg_size":500,"duration":180,"person_proportion":1,"auction_proportion":3,"bid_proportion":46,"bid_hot_ratio_auctions":2,"bid_hot_ratio_bidders":4,"auction_hot_ratio_sellers":4,"flushms":100,"rate_limited":false,"waitEnd":true,"serde_format":1,"numOutPar":4,"nSrcIns":4}, node constraint is 1,2,3,4
encoded json is {"topic_name":"nexmark_src","rate_shape":"square","aid":"q5","events_num":40320000,"rate_period":10000000000,"bid_avg_size":100,"first_event_rate":224000,"next_event_rate":224000,"person_avg_size":200,"auction_avg_size":500,"duration":180,"person_proportion":1,"auction_proportion":3,"bid_proportion":46,"bid_hot_ratio_auctions":2,"bid_hot_ratio_bidders":4,"auction_hot_ratio_sellers":4,"flushms":100,"rate_limited":false,"waitEnd":true,"serde_format":1,"numOutPar":4,"parNum":3,"nSrcIns":4}, node constraint is 1,2,3,4
src instance: 4
func name is q5bidkeyedbyauction
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5bidkeyedbyauction
Waiting for all client to return
func name is q5bidkeyedbyauction
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5bidkeyedbyauction
func name is q5maxbid
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5maxbid
func name is q5bidkeyedbyauction
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5bidkeyedbyauction
func name is q5aucbids
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5aucbids
func name is q5bidkeyedbyauction
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5bidkeyedbyauction
func name is q5maxbid
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5maxbid
func name is q5aucbids
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5aucbids
func name is q5aucbids
func name is q5aucbids
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5aucbids
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5aucbids
func name is q5maxbid
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5maxbid
func name is q5maxbid
func url is http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5maxbid
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"AQ==","outputTopicName":["bids"],"inputTopicName":["nexmark_src"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"AQ==","outputTopicName":["bids"],"inputTopicName":["nexmark_src"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":2,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["aucBids"],"inputTopicName":["bids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":3,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["aucBids"],"inputTopicName":["bids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":1,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"AQ==","outputTopicName":["bids"],"inputTopicName":["nexmark_src"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":3,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["q5_out"],"inputTopicName":["aucBids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":1,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"AQ==","outputTopicName":["bids"],"inputTopicName":["nexmark_src"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":1,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["aucBids"],"inputTopicName":["bids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["q5_out"],"inputTopicName":["aucBids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["q5_out"],"inputTopicName":["aucBids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":3,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["aucBids"],"inputTopicName":["bids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":2,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
encoded json is {"aid":"q5","numOutPartition":"BA==","numSubstreamProducer":"BA==","outputTopicName":["q5_out"],"inputTopicName":["aucBids"],"commEveryMs":100,"flushMs":100,"duration":180,"epoch":1,"waitEnd":true,"numChangelogPartition":4,"numInPartition":4,"ParNum":2,"gua":2,"serdeFormat":1}, node constraint is 5,6,7,8
source-1 invoke done
source-0 invoke done
source-2 invoke done
source-3 invoke done
q5bidkeyedbyauction-1 call done
q5bidkeyedbyauction-2 call done
q5bidkeyedbyauction-0 call done
q5bidkeyedbyauction-3 call done
q5aucbids-1 call done
q5aucbids-2 call done
q5aucbids-3 call done
q5aucbids-0 call done
q5maxbid-2 call done
q5maxbid-1 call done
{"level":"error","time":"2022-12-29T18:39:56-06:00","message":"q5maxbid request failed: Post \"http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5maxbid\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
q5maxbid-0 call done
{"level":"error","time":"2022-12-29T18:39:56-06:00","message":"q5maxbid request failed: Post \"http://ip-172-31-4-253.us-east-2.compute.internal:8080/function/q5maxbid\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
q5maxbid-3 call done
sink processed: 10080001, throughput: (event/s) 55998.74342321035
sink_ctrl processed: 1, throughput: (event/s) 0.005555430344025794
source-0 duration: 180.004056945

sink processed: 10080001, throughput: (event/s) 55998.95599418951
sink_ctrl processed: 1, throughput: (event/s) 0.0055554514324144925
source-1 duration: 180.003373653

sink processed: 10080001, throughput: (event/s) 55999.07067378139
sink_ctrl processed: 1, throughput: (event/s) 0.005555462809357002
source-2 duration: 180.003005027

sink processed: 10079964, throughput: (event/s) 55998.75490674803
sink_ctrl processed: 1, throughput: (event/s) 0.005555451875299161
source-3 duration: 180.003359303

sink processed 40319967 events, duration: 180.004056945, tp: 223994.768142
sink_ctrl processed 4 events, duration: 180.004056945, tp: 0.022222

q5maxbid-0 failed, msg 
eventTimeLatency_sink, p50: 190 ms, p90: 313 ms, p99: 463 ms
aucBids_src_logEntry processed: 3892, throughput: (event/s) 21.57813998458651
sink processed: 416, throughput: (event/s) 2.3063993405930083
aucBids_src processed: 845350, throughput: (event/s) 4686.814140793989
aucBids_src_ctrl processed: 4, throughput: (event/s) 0.022176916736471233
aucBids_src_data processed: 841454, throughput: (event/s) 4665.213823892666
aucBids_src_epoch processed: 3892, throughput: (event/s) 21.57813998458651
q5maxbid-1 duration: 180.367724131

eventTimeLatency_sink, p50: 180 ms, p90: 314 ms, p99: 600 ms
aucBids_src_epoch processed: 4885, throughput: (event/s) 27.08355131656897
aucBids_src_logEntry processed: 4885, throughput: (event/s) 27.08355131656897
sink processed: 476, throughput: (event/s) 2.6390522879604563
aucBids_src processed: 1204045, throughput: (event/s) 6675.499395078462
aucBids_src_ctrl processed: 4, throughput: (event/s) 0.022176909982860978
aucBids_src_data processed: 1199156, throughput: (event/s) 6648.39366685191
q5maxbid-2 duration: 180.367779059

q5maxbid-3 failed, msg 
aucBids_src_logEntry processed 8777 events, duration: 180.367779059
sink processed 892 events, duration: 180.367779059
aucBids_src processed 2049395 events, duration: 180.367779059
aucBids_src_ctrl processed 8 events, duration: 180.367779059
aucBids_src_data processed 2040610 events, duration: 180.367779059
aucBids_src_epoch processed 8777 events, duration: 180.367779059

nexmark_src_src processed: 10080001, throughput: (event/s) 55992.70758394482
nexmark_src_src_ctrl processed: 1, throughput: (event/s) 0.00555483155050727
nexmark_src_src_data processed: 10080000, throughput: (event/s) 55992.70202911327
nexmark_src_src_epoch processed: 0, throughput: (event/s) 0
nexmark_src_src_logEntry processed: 21157, throughput: (event/s) 117.5235711140823
sink processed: 9273600, throughput: (event/s) 51513.285866784216
q5bidkeyedbyauction-0 duration: 180.023460821

nexmark_src_src_data processed: 10080000, throughput: (event/s) 55993.54240536039
nexmark_src_src_epoch processed: 0, throughput: (event/s) 0
nexmark_src_src_logEntry processed: 21175, throughput: (event/s) 117.625323455705
sink processed: 9273600, throughput: (event/s) 51514.05901293156
nexmark_src_src processed: 10080001, throughput: (event/s) 55993.54796027532
nexmark_src_src_ctrl processed: 1, throughput: (event/s) 0.005554914921166706
q5bidkeyedbyauction-1 duration: 180.020758948

sink processed: 9273600, throughput: (event/s) 51514.48512166056
nexmark_src_src processed: 10080001, throughput: (event/s) 55994.01112198322
nexmark_src_src_ctrl processed: 1, throughput: (event/s) 0.00555496086974428
nexmark_src_src_data processed: 10080000, throughput: (event/s) 55994.005567022345
nexmark_src_src_epoch processed: 0, throughput: (event/s) 0
nexmark_src_src_logEntry processed: 21160, throughput: (event/s) 117.54297200378898
q5bidkeyedbyauction-2 duration: 180.019269883

nexmark_src_src_epoch processed: 0, throughput: (event/s) 0
nexmark_src_src_logEntry processed: 21166, throughput: (event/s) 117.57303974527953
sink processed: 9273565, throughput: (event/s) 51512.861491327276
nexmark_src_src processed: 10079964, throughput: (event/s) 55992.25210256954
nexmark_src_src_ctrl processed: 1, throughput: (event/s) 0.005554806753533002
nexmark_src_src_data processed: 10079963, throughput: (event/s) 55992.246547762785
q5bidkeyedbyauction-3 duration: 180.024264456

nexmark_src_src_ctrl processed 4 events, duration: 180.024264456
nexmark_src_src_data processed 40319963 events, duration: 180.024264456
nexmark_src_src_epoch processed 0 events, duration: 180.024264456
nexmark_src_src_logEntry processed 84658 events, duration: 180.024264456
sink processed 37094365 events, duration: 180.024264456
nexmark_src_src processed 40319967 events, duration: 180.024264456

bids_src_logEntry processed: 22454, throughput: (event/s) 124.49313197169153
sink processed: 1128438, throughput: (event/s) 6256.470154799663
bids_src processed: 9216210, throughput: (event/s) 51098.01584612199
bids_src_ctrl processed: 4, throughput: (event/s) 0.02217745292093908
bids_src_data processed: 9209707, throughput: (event/s) 51061.96085203577
bids_src_epoch processed: 6499, throughput: (event/s) 36.03281663329577
q5aucbids-0 duration: 180.363363379

sink processed: 1121810, throughput: (event/s) 6229.049170164281
bids_src processed: 9457289, throughput: (event/s) 52513.27604269332
bids_src_ctrl processed: 4, throughput: (event/s) 0.022210710085181204
bids_src_data processed: 9450786, throughput: (event/s) 52477.16698077233
bids_src_epoch processed: 6499, throughput: (event/s) 36.08685121089816
bids_src_logEntry processed: 22962, throughput: (event/s) 127.50058124398271
q5aucbids-1 duration: 180.093296642

sink processed: 1120290, throughput: (event/s) 6218.591877745201
bids_src processed: 9211470, throughput: (event/s) 51131.73600058341
bids_src_ctrl processed: 4, throughput: (event/s) 0.0222035075837335
bids_src_data processed: 9204967, throughput: (event/s) 51095.638648129156
bids_src_epoch processed: 6499, throughput: (event/s) 36.07514894667101
bids_src_logEntry processed: 22387, throughput: (event/s) 124.26748106926047
q5aucbids-2 duration: 180.151716341

bids_src processed: 9235408, throughput: (event/s) 51225.639650451296
bids_src_ctrl processed: 4, throughput: (event/s) 0.022186627661907866
bids_src_data processed: 9228905, throughput: (event/s) 51189.56974052995
bids_src_epoch processed: 6499, throughput: (event/s) 36.047723293684804
bids_src_logEntry processed: 22467, throughput: (event/s) 124.616740920021
sink processed: 1130023, throughput: (event/s) 6267.849887598028
q5aucbids-3 duration: 180.288778491

bids_src processed 37120377 events, duration: 180.363363379
bids_src_ctrl processed 16 events, duration: 180.363363379
bids_src_data processed 37094365 events, duration: 180.363363379
bids_src_epoch processed 25996 events, duration: 180.363363379
bids_src_logEntry processed 90270 events, duration: 180.363363379
sink processed 4500561 events, duration: 180.363363379

